# .bashrc

# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# Uncomment the following line if you don't like systemctl's auto-paging feature:
# export SYSTEMD_PAGER=

# User specific aliases and functions
stty -ixon

alias vim-map='vim $HOME/.vimrc'

alias ssh-fix='eval $(ssh-agent) && ssh-add $HOME/.ssh/!(*.pub)'

alias split-struct='$HOME/split-struct.sh' #find in snippets folder

echo "Hi! dof, dex, dru, dcp aliases are installed"
function dof()
{
    docker ps -q -f ancestor=$1
}

function dex()
{
    img=$(dof $1)
    if [ $(echo $img | wc -w) == 1 ]
    then
        docker exec -it $(dof $1) /bin/bash
    else
        echo "dex will work only if a single container from $1 is running"
    fi
}

function dru()
{
    docker run --privileged --detach $1
}

function dcp()
{
    docker cp $(dof $1):$2 /tmp/
    docker cp /tmp/$(basename $2) $(dof $3):$4
    rm /tmp/$(basename $2)
}

alias muvat-uninstall="$HOME/.muvat/uninstall.sh"

source $HOME/.muvat/git/git-completion.bash

function jit()
{
    br=$(git branch | grep '*' | sed 's/.*\///')
    a=$(echo $br | sed 's/.*-[0-9]*-//')
    echo $br | sed 's/'-$a'//'
}
